!function(e){"use strict";var t={active:0};"undefined"!=typeof element_ready_obj&&(t.active=parseInt(element_ready_obj.active)),0!=e("#element-ready-adpage-tabs").length&&e("#element-ready-adpage-tabs").tabs(t);var n,a,o,r,l,i,s,d,c,m=e(".element-ready-admin-notice-remote .notice-content").html();for(localStorage.admin_notice_remote_dismissed&&JSON.parse(localStorage.admin_notice_remote_dismissed).content===m&&e(".element-ready-admin-notice-remote").addClass("hidden"),e(document).on("click",".element-ready-admin-notice-remote .notice-dismiss",function(){var e={date:new Date,content:m};localStorage.admin_notice_remote_dismissed=JSON.stringify(e)}),r=(n=document.getElementsByClassName("element-ready-custom-select")).length,a=0;a<r;a++){for(l=(i=n[a].getElementsByTagName("select")[0]).length,(s=document.createElement("DIV")).setAttribute("class","select-selected"),s.innerHTML=i.options[i.selectedIndex].innerHTML,n[a].appendChild(s),(d=document.createElement("DIV")).setAttribute("class","select-items select-hide"),o=1;o<l;o++)(c=document.createElement("DIV")).innerHTML=i.options[o].innerHTML,c.addEventListener("click",function(e){var t,n,a,o,r,l,i;for(l=(o=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,r=this.parentNode.previousSibling,n=0;n<l;n++)if(o.options[n].innerHTML==this.innerHTML){for(o.selectedIndex=n,r.innerHTML=this.innerHTML,i=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,a=0;a<i;a++)t[a].removeAttribute("class");this.setAttribute("class","same-as-selected");break}r.click()}),d.appendChild(c);n[a].appendChild(d),s.addEventListener("click",function(e){e.stopPropagation(),u(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function u(e){var t,n,a,o,r,l=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),o=t.length,r=n.length,a=0;a<r;a++)e==n[a]?l.push(a):n[a].classList.remove("select-arrow-active");for(a=0;a<o;a++)l.indexOf(a)&&t[a].classList.add("select-hide")}document.addEventListener("click",u);var p=e(".element-ready-dash-modal-open-btn label"),h=e("#element-ready-modal-body");function y(t=null,n=null){let a=e("form#element-ready-admin-component-form").serialize();e.ajax({url:element_ready_obj.ajax_url,method:"POST",data:a,success:function(a){e("body").append('<div class="show element-ready--lite-snackbar" id="element-ready--lite-snackbar">'+a.data+"</div>"),setTimeout(function(){e(".element-ready--lite-snackbar").remove(),null!=t&&null!=n&&n.html(t.html())},3e3)},error:function(a,o){e("body").append('<div class="show element-ready--lite-snackbar" id="element-ready--lite-snackbar">Error</div>'),setTimeout(function(){e(".element-ready--lite-snackbar").remove(),null!=t&&null!=n&&n.html(t.html())},3e3)}})}function f(t=null,n=null){let a=e("form.element-ready-modules-action").serialize();e.ajax({url:element_ready_obj.ajax_url,method:"POST",data:a,success:function(a){e("body").append('<div class="show element-ready--lite-snackbar" id="element-ready--lite-snackbar">'+a.data+"</div>"),setTimeout(function(){e(".element-ready--lite-snackbar").remove(),null!=t&&null!=n&&n.html(t.html())},3e3)},error:function(a,o){e("body").append('<div class="show element-ready--lite-snackbar" id="element-ready--lite-snackbar">Error</div>'),setTimeout(function(){e(".element-ready--lite-snackbar").remove(),null!=t&&null!=n&&n.html(t.html())},3e3)}})}p.on("click",function(){h.show()}),e(".element-ready-modal-close").on("click",function(){h.fadeOut()}),e("#element-ready-widgets-search").on("input",function(){var t=e(this).val().toLowerCase(),n=e(".element-ready-component-row .element-ready-col");e.each(n,function(){var n=e(this);n.toggle(n.find("strong").text().toLowerCase().indexOf(t)>-1)})}),e("#element-ready-modules-search").on("input",function(){var t=e(this).val().toLowerCase(),n=e(".element-ready-modules-row .element-ready-col");e.each(n,function(){var n=e(this);n.toggle(n.find("strong").text().toLowerCase().indexOf(t)>-1)})}),e("#element-ready-modules-button-sbt").on("click",function(t){t.preventDefault();let n=e(this).clone();e(this).text("saving..."),f(n,e(this))}),e(document).off().on("click","input.element-ready-modules-all-js-enable",function(){let t=e(".element-ready-modules-row .element-ready-col input");e.each(t,function(){let t=e(this);t.attr("readonly")||t.prop("checked",!0)});let n=e(this).parent().clone(),a=e(this).parent();a.text("saving..."),f(n,a)}),e("#quomodo-components-all-disable").on("click",function(){let t=e(".element-ready-component-row .element-ready-col input");e.each(t,function(){let t=e(this);t.attr("readonly")||t.prop("checked",!1)});let n=e(this).clone();e(this).text("saving..."),y(n,e(this))}),e("#quomodo-components-all-enable").on("click",function(){let t=e(".element-ready-component-row .element-ready-col input");e.each(t,function(){let t=e(this);t.attr("readonly")||t.prop("checked",!0)});let n=e(this).clone();e(this).text("saving..."),y(n,e(this))}),e("button.er-lite-widgets-submit").on("click",function(t){t.preventDefault();let n=e(this).clone();e(this).text("saving..."),y(n,e(this))}),e(".element-ready-pro-connects").on("click",function(t){t.stopPropagation(),t.preventDefault(),"undefined"!=typeof element_ready_obj&&e.ajax({url:element_ready_obj.rest_url+"element-ready-pro/v1/activate",method:"POST",beforeSend:function(e){e.setRequestHeader("X-Element-Ready-Pro-Signature","element-ready"),e.setRequestHeader("x_user_id",element_ready_obj.user_id)},success:function(t){if(e(".element-ready-active-msg").remove(),200==t.data.code){var n=document.createElement("h2");n.innerHTML=t.data.msg,e(n).css({color:"#3467ff"}),e(n).addClass("element-ready-active-msg"),e(".element-ready-pro-connect").prepend(n)}403==t.data.status&&(e(n).css({color:"#c81a03e1"}),e(".element-ready-pro-connect").prepend("connection fail, please provide valid license")),setTimeout("location.reload(true);",2e3)},error:function(t,n){e(".element-ready-active-msg").remove();var a=document.createElement("h2");a.innerHTML="You may provide invide license key",e(a).css({color:"#3467ff"}),e(a).addClass("element-ready-active-msg"),e(".element-ready-pro-connect").prepend(a)}})}),e(".element-ready-pro-disconnects").on("click",function(t){t.stopPropagation(),t.preventDefault(),"undefined"!=typeof element_ready_obj&&e.ajax({url:element_ready_obj.rest_url+"element-ready-pro/v1/deactivate",method:"POST",beforeSend:function(e){e.setRequestHeader("X-Element-Ready-Pro-Signature","element-ready"),e.setRequestHeader("x_user_id",element_ready_obj.user_id)},success:function(t){e(".element-ready-active-msg").remove();var n=document.createElement("h2");e(n).addClass("element-ready-active-msg"),n.innerHTML=t.data.msg,e(n).css({color:"#3467ff"}),200==t.data.code&&e(".element-ready-pro-connect").prepend(n),setTimeout("location.reload(true);",2e3)},error:function(t,n){e(".element-ready-active-msg").remove();var a=document.createElement("h2");e(a).addClass("element-ready-active-msg"),a.innerHTML="Server error",e(a).css({color:"#3467ff"}),e(a).addClass("element-ready-active-msg"),e(".element-ready-pro-connect").prepend(a)}})}),e(document).ready(function(){e(".elements-ready-video-popup").length&&e(".elements-ready-video-popup").magnificPopup({type:"iframe"})})}(jQuery),function(e){if("undefined"!=typeof wp&&wp.media){var t=wp.media.view.MediaFrame.Select,n=(wp.media.controller.Library,wp.media.view.l10n),a=wp.media.view.Frame,o=null,r=1,l="";wp.media.view.Element_Ready_AttachmentsBrowser=a.extend({tagName:"div",id:"element-ready-unsplash",className:"er-unsplash-photos-browser element-ready-unsplash",initialize:function(){r=1,o=this,i("list")}}),t.prototype.bindHandlers=function(){this.on("router:create:browse",this.createRouter,this),this.on("router:render:browse",this.browseRouter,this),this.on("content:create:browse",this.browseContent,this),this.on("content:create:ElementReadygallery",this.ElementReadygallery,this),this.on("content:render:upload",this.uploadContent,this),this.on("toolbar:create:select",this.createSelectToolbar,this)},t.prototype.browseRouter=function(e){var t={};t.upload={text:n.uploadFilesTitle,priority:19},t.browse={text:n.mediaLibraryTitle,priority:42},t.ElementReadygallery={text:"Unsplash Photos",priority:62},e.set(t)},t.prototype.ElementReadygallery=function(e){var t=this.state();e.view=new wp.media.view.Element_Ready_AttachmentsBrowser({controller:this,model:t,AttachmentView:t.get("AttachmentView")})}}function i(t="list",n="",a=1){var r={action:"element_ready_get_unsplash",type:t,page:a};"search"==t&&(r.q=n);var l=e.param(r);fetch(ermedia.ajaxurl,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:l}).then(e=>e.json()).then(e=>{var t=wp.template("element-ready-pro-gallary-home");o.$el.html(t({images:e.data.results}))}).catch(function(e){console.log(e)})}e(document).on("click","#er-unsplash-search-ubtn-",function(){er_paginatio=1;let t=e(this);l=t.prev(".er-unsplash-search").val(),t.prev(".er-unsplash-search").css("background","#e1e1e1"),i("search",l,r)}),e(document).on("click",".element-ready-unsplash-remote-image",function(){let t=e(this).find("img").data("id");var n={action:"element_ready_get_unsplash",type:"single",id:t},a=e.param(n);fetch(ermedia.ajaxurl,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:a}).then(e=>e.json()).then(e=>{var n=wp.template("element-ready-pro-gallary-unsplash-single-image");o.$el.html(n({image_id:t,image:e.data}))}).catch(function(e){console.log(e)})}),e(document).on("click",".element-ready-unsplash-back-btn",function(){r=1,i("list")}),e(document).on("click",".er-unsplash-insert-button",function(t){let n=e(this),a=null,l=null,s=n.attr("data-src");l=n.prev(".er-unsplash-image-size").val(),(a=n.next(".er-loader-img")).show(),a.find(".er-loader-status").text("Downloading image from unsplash");let d={action:"save_er_unsplash_media",size:l,src:"unsplash",image:s};ermedia.hasOwnProperty("post_id")&&(d.post_id=ermedia.post_id.ID);let c=e.param(d);fetch(ermedia.ajaxurl,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:c}).then(e=>e.json()).then(e=>{a.find(".er-loader-status").text("Done"),o.model.get("selection").add(e.data.attachmentData),o.model.frame.trigger("library:selection:add");let t=document.querySelectorAll(".media-toolbar .media-toolbar-primary .media-button-select");t[t.length-1].click(),i("list"),r=1}).catch(function(e){a.find(".er-loader-status").text("File Download fail ").css({color:"red"}),a.find("img").hide()})}),e(document).on("click","#er-pro-unsplash-next-ubtn-",function(){l.length>1?i("search",l,++r):i("list","",++r)}),e(document).on("mouseover",".er-unsplash-photos-browser",function(){e(".media-frame-toolbar .media-button-select").prop("disabled",!0)}),e(document).on("click",".element-ready-admin-notice-remote .notice-dismiss",function(){e(this).parent(".element-ready-admin-notice-remote").hide()})}(jQuery);